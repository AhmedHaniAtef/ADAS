/**
 * @file    TSR_feature.h
 * @author  Ahmed Hani
 * @brief   contains the functions which handle the Traffic Sign Recognition feature
 * @date    2025-02-23
 */

#ifndef TSR_FEATURE_H_
#define TSR_FEATURE_H_
/***********************************************************************************************************************
*                                                      INCLUDES                                                        *
***********************************************************************************************************************/
#include "../../ECU_Layer/inc/ecu.h"
#include "../APP_std.h"



/***********************************************************************************************************************
*                                                    MACRO DEFINES                                                     *
***********************************************************************************************************************/




/***********************************************************************************************************************
*                                                   MACRO FUNCTIONS                                                    *
***********************************************************************************************************************/




/***********************************************************************************************************************
*                                                      DATA TYPES                                                      *
***********************************************************************************************************************/

typedef enum 
{
    SPEED_30 = 1,
    SPEED_40, 
    SPEED_50, 
    SPEED_60, 
    SPEED_70, 
    SPEED_80, 
    SPEED_90,
    SPEED_100,
    SPEED_120,
    DIRECTION,
    STOP,
    RED,
    GREEN,
}traffic_sign_t;


/***********************************************************************************************************************
*                                                  FUNCTION DEFINITION                                                 *
***********************************************************************************************************************/

/**
 * @brief this function will be called when a sign or speed detected
 * 
 * @param p_Speed detected speed if exists
 * @param p_Sign detected sign if exists
 * @return app_status_t status of operation
 */
app_status_t TSR_handle(traffic_sign_t p_Speed, traffic_sign_t p_Sign);

/**
 * @brief this function updates the max speed of the car (depending on the last max limited speed deteced)
 * 
 * @return app_status_t status of operation
 */
app_status_t TSR_task(void);

/***********************************************************************************************************************
* AUTHOR                |* NOTE                                                                                        *
************************************************************************************************************************
*                       |                                                                                              * 
*                       |                                                                                              * 
***********************************************************************************************************************/

#endif //TSR_FEATURE_H_
 