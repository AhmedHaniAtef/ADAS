/**
 * @file    monitoring.c
 * @author  Ahmed Hani
 * @brief   this file cdeclaration of monitoring features
 * @date    2025-01-29
 */

/***********************************************************************************************************************
*                                                      INCLUDES                                                        *
***********************************************************************************************************************/
#include "../inc/monitoring.h"
#include "../inc/ecu.h"


/***********************************************************************************************************************
*                                                    MACRO DEFINES                                                     *
***********************************************************************************************************************/




/***********************************************************************************************************************
*                                                   MACRO FUNCTIONS                                                    *
***********************************************************************************************************************/




/***********************************************************************************************************************
*                                               STATIC FUNCTION DEFINITION                                             *
***********************************************************************************************************************/




/***********************************************************************************************************************
*                                                     GLOBAL OBJECTS                                                   *
***********************************************************************************************************************/






/***********************************************************************************************************************
*                                                     STATIC OBJECTS                                                   *
***********************************************************************************************************************/






/***********************************************************************************************************************
*                                                      DATA TYPES                                                      *
***********************************************************************************************************************/




/***********************************************************************************************************************
*                                                  FUNCTION DECLARATION                                                *
***********************************************************************************************************************/

/**
 * @brief used to send the data
 * 
 * @param p_MonitorOBJ object to the data and size of the data
 * @return ecu_status_t 
 */
ecu_status_t monitoring_send_data(monitoring_t *p_MonitorOBJ)
{
    ecu_status_t l_EcuStatus = ECU_OK;
    if ((NULL == p_MonitorOBJ)              ||
        (NULL == p_MonitorOBJ->UsedUART)    || 
        (NULL == p_MonitorOBJ->MonitorUpdateData_CALLBACK))
    {
        l_EcuStatus = ECU_ERROR;
    }
    else
    {
        /* update the data before sending */
        p_MonitorOBJ->MonitorUpdateData_CALLBACK();

        /* Send the data */
        HAL_UART_Transmit(p_MonitorOBJ->UsedUART, p_MonitorOBJ->Data.SendData, p_MonitorOBJ->Size, HAL_MAX_DELAY);
    }
    return l_EcuStatus;
}


/***********************************************************************************************************************
*                                               STATIC FUNCTION DECLARATION                                            *
***********************************************************************************************************************/




/***********************************************************************************************************************
* AUTHOR                |* NOTE                                                                                        *
************************************************************************************************************************
*                       |                                                                                              * 
*                       |                                                                                              * 
***********************************************************************************************************************/
